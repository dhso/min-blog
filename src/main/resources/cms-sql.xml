<sqlGroup name="cms">
	<sql id="getArticles">
		select
			art.article_id as articleId,art.article_thumb as articleThumb,
			art.article_title as articleTitle,art.article_content as articleContent,
			usr.username as articleAuthor,art.article_view as articleView,
			art.create_dt as articleCreateDt,art.update_dt as articleUpdateDt,
			cat.category_id as categoryId,cat.category_name as categoryName,
			group_concat(tag.tag_id) as tagId, group_concat(tag.tag_name) as tagName
	</sql>
	<sql id="getArticlesEx">
		from cms_articles as art
			left join cms_categories as cat on cat.category_id = art.category_id
			left join users as usr on usr.id = art.user_id
			left join cms_article_tag as art_tag on art_tag.article_id = cat.category_id
			left join cms_tags as tag on tag.tag_id = art_tag.tag_id
			group by art.article_id
			order by art.update_dt desc
	</sql>

	<sql id="selectArticlesByCategoryIdSelect">
		select *
	</sql>
	<sql id="selectArticlesByCategoryIdSqlExceptSelect">
		from blog_articles
		where category_id = ?
		order by update_dt desc
	</sql>
	
	<sql id="selectPopularArticlesSql">
		select
			art.id as articleId,
			art.visit_num as articleVisitNum,
			art.thumbnail as articleThumbnail,
			art.title as articleTitle,
			art.content as articleContent,
			art.author as articleAuthor,
			art.create_dt as articleCreateDt,
			art.update_dt as articleUpdateDt,
			cat.id as categoryId,
			cat.title as categoryTitle
		from blog_articles as art
		left join blog_categories as cat on cat.id = art.category_id
		order by art.visit_num desc limit 0,?
	</sql>
	
	<sql id="selectRecentArticlesSql">
		select
			art.id as articleId,
			art.visit_num as articleVisitNum,
			art.thumbnail as articleThumbnail,
			art.title as articleTitle,
			art.content as articleContent,
			art.author as articleAuthor,
			art.create_dt as articleCreateDt,
			art.update_dt as articleUpdateDt,
			cat.id as categoryId,
			cat.title as categoryTitle
		from blog_articles as art
		left join blog_categories as cat on cat.id = art.category_id
		order by art.update_dt desc limit 0,?
	</sql>
	
	<sql id="selectArticleByArticleIdSql">
		select
			art.id as articleId,
			art.visit_num as articleVisitNum,
			art.thumbnail as articleThumbnail,
			art.title as articleTitle,
			art.content as articleContent,
			art.author as articleAuthor,
			art.create_dt as articleCreateDt,
			art.update_dt as articleUpdateDt,
			cat.id as categoryId,
			cat.title as categoryTitle
		from blog_articles as art
		left join blog_categories as cat on cat.id = art.category_id
		where art.id = ?
	</sql>
	
	<sql id="selectAllCategoriesSql">
		select
			id as categoryId,
			pid as categoryPId,
			title as categoryTitle
		from blog_categories
		order by update_dt desc
	</sql>
	
</sqlGroup>